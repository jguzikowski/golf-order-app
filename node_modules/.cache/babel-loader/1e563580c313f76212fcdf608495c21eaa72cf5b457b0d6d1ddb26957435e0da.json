{"ast":null,"code":"import _objectSpread from\"C:/Users/jguzi/Documents/Golf Order App/golf-order-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const params=new URLSearchParams(window.location.search);const hole=params.get('hole')||'1';const[menu,setMenu]=useState([]);const[cart,setCart]=useState([]);const[loadingMenu,setLoadingMenu]=useState(true);const[placingOrder,setPlacingOrder]=useState(false);const[message,setMessage]=useState('');useEffect(()=>{setLoadingMenu(true);axios.get(\"/api/menu?hole=\".concat(hole)).then(res=>setMenu(res.data)).catch(err=>console.error(err)).finally(()=>setLoadingMenu(false));},[hole]);const addToCart=item=>{setCart(prev=>{const exists=prev.find(i=>i.id===item.id);if(exists){return prev.map(i=>i.id===item.id?_objectSpread(_objectSpread({},i),{},{qty:i.qty+1}):i);}return[...prev,_objectSpread(_objectSpread({},item),{},{qty:1})];});};const updateQty=(id,delta)=>{setCart(prev=>prev.map(i=>i.id===id?_objectSpread(_objectSpread({},i),{},{qty:Math.max(1,i.qty+delta)}):i));};const removeFromCart=id=>{setCart(prev=>prev.filter(i=>i.id!==id));};const clearCart=()=>{setCart([]);setMessage('');};const checkout=()=>{setPlacingOrder(true);axios.post('/api/order',{hole,items:cart}).then(res=>{setMessage(\"\\u2705 Order confirmed: \".concat(res.data.orderId));clearCart();}).catch(err=>{console.error(err);setMessage('❌ Failed to place order. Please try again.');}).finally(()=>setPlacingOrder(false));};const total=cart.reduce((sum,i)=>sum+i.price*i.qty,0);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Preorder at Hole \",hole]}),loadingMenu?/*#__PURE__*/_jsx(\"p\",{children:\"Loading menu...\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Menu\"}),/*#__PURE__*/_jsx(\"ul\",{children:menu.map(item=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[item.name,\" ($\",item.price.toFixed(2),\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addToCart(item),children:\"Add\"})]},item.id))})]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Cart \",cart.length>0&&\"(\".concat(cart.length,\" items)\")]}),cart.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Your cart is empty.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"ul\",{children:cart.map(i=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[i.name,\" ($\",i.price.toFixed(2),\") \\xD7 \",i.qty]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQty(i.id,1),children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQty(i.id,-1),disabled:i.qty===1,children:\"\\u2212\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeFromCart(i.id),children:\"Remove\"})]},i.id))}),/*#__PURE__*/_jsxs(\"p\",{className:\"total\",children:[\"Total: $\",total.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:clearCart,children:\"Clear Cart\"}),/*#__PURE__*/_jsx(\"button\",{onClick:checkout,disabled:placingOrder,children:placingOrder?'Placing...':'Checkout'})]})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:message})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","axios","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","App","params","URLSearchParams","window","location","search","hole","get","menu","setMenu","cart","setCart","loadingMenu","setLoadingMenu","placingOrder","setPlacingOrder","message","setMessage","concat","then","res","data","catch","err","console","error","finally","addToCart","item","prev","exists","find","i","id","map","_objectSpread","qty","updateQty","delta","Math","max","removeFromCart","filter","clearCart","checkout","post","items","orderId","total","reduce","sum","price","className","children","name","toFixed","onClick","length","disabled"],"sources":["C:/Users/jguzi/Documents/Golf Order App/golf-order-app/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const params = new URLSearchParams(window.location.search);\n  const hole = params.get('hole') || '1';\n  const [menu, setMenu] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [loadingMenu, setLoadingMenu] = useState(true);\n  const [placingOrder, setPlacingOrder] = useState(false);\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    setLoadingMenu(true);\n    axios.get(`/api/menu?hole=${hole}`)\n      .then(res => setMenu(res.data))\n      .catch(err => console.error(err))\n      .finally(() => setLoadingMenu(false));\n  }, [hole]);\n\n  const addToCart = (item) => {\n    setCart(prev => {\n      const exists = prev.find(i => i.id === item.id);\n      if (exists) {\n        return prev.map(i =>\n          i.id === item.id ? { ...i, qty: i.qty + 1 } : i\n        );\n      }\n      return [...prev, { ...item, qty: 1 }];\n    });\n  };\n\n  const updateQty = (id, delta) => {\n    setCart(prev =>\n      prev.map(i =>\n        i.id === id ? { ...i, qty: Math.max(1, i.qty + delta) } : i\n      )\n    );\n  };\n\n  const removeFromCart = (id) => {\n    setCart(prev => prev.filter(i => i.id !== id));\n  };\n\n  const clearCart = () => {\n    setCart([]);\n    setMessage('');\n  };\n\n  const checkout = () => {\n    setPlacingOrder(true);\n    axios.post('/api/order', { hole, items: cart })\n      .then(res => {\n        setMessage(`✅ Order confirmed: ${res.data.orderId}`);\n        clearCart();\n      })\n      .catch(err => {\n        console.error(err);\n        setMessage('❌ Failed to place order. Please try again.');\n      })\n      .finally(() => setPlacingOrder(false));\n  };\n\n  const total = cart.reduce((sum, i) => sum + i.price * i.qty, 0);\n\n  return (\n    <div className=\"container\">\n      <h1>Preorder at Hole {hole}</h1>\n      {loadingMenu ? (\n        <p>Loading menu...</p>\n      ) : (\n        <>\n          <h2>Menu</h2>\n          <ul>\n            {menu.map(item => (\n              <li key={item.id}>\n                <span>{item.name} (${item.price.toFixed(2)})</span>\n                <button onClick={() => addToCart(item)}>Add</button>\n              </li>\n            ))}\n          </ul>\n        </>\n      )}\n      <h2>Cart {cart.length > 0 && `(${cart.length} items)`}</h2>\n      {cart.length === 0 ? (\n        <p>Your cart is empty.</p>\n      ) : (\n        <>\n          <ul>\n            {cart.map(i => (\n              <li key={i.id}>\n                <span>{i.name} (${i.price.toFixed(2)}) × {i.qty}</span>\n                <button onClick={() => updateQty(i.id, 1)}>+</button>\n                <button onClick={() => updateQty(i.id, -1)} disabled={i.qty === 1}>−</button>\n                <button onClick={() => removeFromCart(i.id)}>Remove</button>\n              </li>\n            ))}\n          </ul>\n          <p className=\"total\">Total: ${total.toFixed(2)}</p>\n          <div className=\"actions\">\n            <button onClick={clearCart}>Clear Cart</button>\n            <button onClick={checkout} disabled={placingOrder}>\n              {placingOrder ? 'Placing...' : 'Checkout'}\n            </button>\n          </div>\n        </>\n      )}\n      {message && <p className=\"message\">{message}</p>}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}